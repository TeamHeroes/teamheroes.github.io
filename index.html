<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>
        Credit Hour Calculator
    </title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="css/sb-admin.css" rel="stylesheet" type="text/css">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css" type="text/css">
</head>
<body>
<div id="wrapper">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Credit Hour Calculator</a>
        </div>
    </nav>
    <div id="page-wrapper" class="float-right">
        <hr>
        <div class="row justify-content-md-right">
            <div class="col-lg-12" >
                <form class="form-horizontal" id="dynamic" >
                    <table class="table">
                        <thead>
                        <tr>
                            <td style="width:  5%" class="text-center"><label>Instructional Method</label></td>
                            <td style="width: 5%"><label>Number of Credits</label></td>
                            <td style="width: 5%" class="text-center"><label>Direct instruction time per credit in clock hours</label></td>
                            <td style="width:  5%" class="text-center"><label>Total number of clock hours of direct instruction time</label></td>
                        </tr>
                        </thead>
                        <tbody id="itemlist">
                        <!-- LECTURE 1 -->
                        <tr>
                            <td>Lecture</td>
                            <td><input class="form-control input-sm" data-cell="B1"></td>
                            <td data-cell="C1">12.5</td>
                            <td><input class="form-control input-sm text-right" data-cell="D1" data-format="0[.]00" data-formula="B1 * C1"></td>
                        </tr>
                        <!-- LAB 2 -->
                        <tr>
                            <td>Lab (standard)</td>
                            <td><input class="form-control input-sm" data-cell="B2"></td>
                            <td data-cell="C2">25</td>
                            <td><input class="form-control input-sm text-right" data-cell="D2" data-format="0[.]00" data-formula="B2 * C2"></td>
                        </tr>
                        <!-- Lab (nursing, allied health, some science courses) 3 -->
                        <tr>
                            <td>Lab (nursing, allied health, some science courses)</td>
                            <td><input class="form-control input-sm" data-cell="B3"></td>
                            <td data-cell="C3">37.5</td>
                            <td><input class="form-control input-sm text-right" data-cell="D3" data-format="0[.]00" data-formula="B3 * C3"></td>
                        </tr>
                        <!-- Studio 4 -->
                        <tr>
                            <td>Studio</td>
                            <td><input class="form-control input-sm" data-cell="B4"></td>
                            <td data-cell="C4">25</td>
                            <td><input class="form-control input-sm text-right" data-cell="D4" data-format="0[.]00" data-formula="B4 * C4"></td>
                        </tr>
                        <!-- PRIVATE LESSON 5 -->
                        <tr>
                            <td>Private Lesson</td>
                            <td><input class="form-control input-sm" data-cell="B5"></td>
                            <td data-cell="C5">12.5</td>
                            <td><input class="form-control input-sm text-right" data-cell="D5" data-format="0[.]00" data-formula="B5 * C5"></td>
                        </tr>
                        <!-- CLINICAL 6 -->
                        <tr>
                            <td>Clinical</td>
                            <td><input class="form-control input-sm" data-cell="B6"></td>
                            <td data-cell="C6">37.5</td>
                            <td><input class="form-control input-sm text-right" data-cell="D6" data-format="0[.]00" data-formula="B6 * C6"></td>
                        </tr>
                        <!-- FIELDWORK 7 -->
                        <tr>
                            <td>Fieldwork</td>
                            <td><input class="form-control input-sm" data-cell="B7"></td>
                            <td data-cell="C7">37.5</td>
                            <td><input class="form-control input-sm text-right" data-cell="D7" data-format="0[.]00" data-formula="B7 * C7"></td>
                        </tr>
                        <!-- INTERNSHIP 8 -->
                        <tr>
                            <td>Internship</td>
                            <td><input class="form-control input-sm" data-cell="B8"></td>
                            <td data-cell="C8">0.67</td>
                            <td><input class="form-control input-sm text-right" data-cell="D8" data-format="0[.]00" data-formula="B8 * C8"></td>
                        </tr>

                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </div>
</div>
   
    <!-- Footer -->
<footer class="page-footer font-small blue">

    <div class="footer-copyright text-center py-3">Source Code Available in
        <a href="https://github.com/TeamHeroes/teamheroes.github.io"> Github.com</a>
    </div>

</footer>

<script src="js/jquery-3.6.0.min.js" type="text/javascript"></script>
<script src="js/jquery-calx-sample-2.2.8.min.js" type="text/javascript"></script>
<script src="js/bootstrap.js" type="text/javascript"></script>
<script>
    $form       = $('#dynamic').calx();
    $itemlist   = $('#itemlist');
    $counter    = 7;

    $('#add_item').click(function(e){
        e.preventDefault();
        var i = ++$counter;
        $itemlist.append(
            '<tr>\
                <td><input class="form-control input-sm" data-cell="B'+i+'"></td>\
                        <td><input class="form-control input-sm text-right" data-cell="C'+i+'" data-format="0[.]00" </td>\
                        <td><input class="form-control input-sm text-right" data-cell="D'+i+'" data-format="0[.]00"</td>\
                        <td><input class="form-control input-sm text-right" data-cell="E'+i+'" data-format="0[.]00"></td>\
                        <td><input class="form-control input-sm text-right" data-cell="F'+i+'" data-format="0[.]00"></td>\
                        <td><input class="form-control input-sm text-right" data-cell="G'+i+'" data-format="0[.]00%"></td>\
                        \<td><input class="form-control input-sm text-right" data-cell="H'+i+'" data-format="0[.]00%"></td>\
                        <td><input class="form-control input-sm text-right" data-cell="I'+i+'" data-format="$ 0,0.00" data-formula="D'+i+'*(C'+i+'-(C'+i+'*E'+i+'))"></td>\
                    </tr>'
        );
        //console.log('new row appended');

        $form.calx('update');
        $form.calx('getCell', 'G1').setFormula('SUM(F1:F'+i+')');

        //console.log($form.calx('getSheet'));
    });

    $('#itemlist').on('click', '.btn-remove', function(){
        $(this).parent().parent().remove();
        $form.calx('update');
        $form.calx('getCell', 'G1').calculate();
    });

    $('#show_formula').click(function(e){
        e.preventDefault();

        if($(this).attr('data-shown') == '0'){
            $('[data-formula],[data-cell]').each(function(){
                $(this).after('<span class="formula">'+$(this).attr('data-cell')+($(this).attr('data-formula') ? ' = '+$(this).attr('data-formula') : '')+'&nbsp;</span>');
            });

            $(this).attr('data-shown', 1).html('Hide Formula');
        }else{
            $('span.formula').remove();
            $(this).attr('data-shown', 0).html('Show Formula');
        }
    });
</script>
</body>
</html>
